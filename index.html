<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Maze Bank</title>
    <script src="libs/phaser.min.js"></script>
    <script src="libs/enable3d.phaserExtension.0.25.3.min.js?ver=1.1"></script>
    
    <script src="libs/sweetalert2.js?ver=1.1"></script>
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <style>
      @font-face {
  font-family: 'Benton';
  src: url('assets/fonts/BentonSansBBVA-Book.otf');
}

@font-face {
  font-family: 'BentonBold';
  src: url('assets/fonts/BentonSansBBVA-Bold.otf');
}

@font-face {
  font-family: 'BentonLight';
  src: url('assets/fonts/BentonSansBBVA-Light.otf');
}

@font-face {
  font-family: 'BentonMedium';
  src: url('assets/fonts/BentonSansBBVA-Medium.otf');
}
      body {
        margin: 0;
        font-family: 'Benton';
      }

.swal2-modal {
  /*border: 6px solid #2DCCCD; */
  text-align: justify;
  color: 'white';
}


.swal2-popup .swal2-styled {
	
  font-family: 'Benton';
}

.swal2-confirm {
  border: 2px solid #FFFFFF !important;
  background-color: rgba(0,0,0,0) !important;
  font-size: 16px !important;
  width: 180%;
}

.titulohacks{
  background-image: url("assets/images/ContTituloHack1.png");
  background-repeat: no-repeat !important;
  height: 60px;
  width:310px;
  font-size: small;
  align-items: flex-end;

}

.contbody{
  background-image: url("assets/images/ContHack.png") !important;
  background-size: 99% !important;
  background-repeat: no-repeat !important;
  height: 265px;
  right: 0;
  padding-top: 16%;
  padding-left: 8px;
  padding-right: 8px;
  font-size: small;
}

.respuesta {
  background-image: url("assets/images/ContRepuestaNoHab.png") !important;
  background-size: 100% !important;
  background-repeat: no-repeat !important;
  height: 50px;
  font-size: small;
  cursor: pointer;
  padding-top: 6.7% !important;
    /*
  align-items: center;
  */
  
}

.respuestaSel {
  background-image: url("assets/images/ContRespuesta.png") !important;
  background-size: 100% !important;
  background-repeat: no-repeat !important;
  height: 50px;
  font-size: small;
  cursor: pointer;
  padding-top: 6.7% !important;
    /*
  align-items: center;
  */
  
}

.respuesta1 {
  background-image: url("assets/images/ContRepuestaNoHab.png") !important;
  background-size: 100% !important;
  background-repeat: no-repeat !important;
  height: 50px;
  font-size: small;
  cursor: pointer;
  padding-top: 6.7% !important;
    /*
  align-items: center;
  */
  
}

.respuesta3 {
  background-image: url("assets/images/ContRepuestaNoHabMd.png") !important;
  background-size: 100% !important;
  background-repeat: no-repeat !important;
  height: 63px;
  font-size: small;
  cursor: pointer;
  padding-top: 7% !important;
    /*
  align-items: center;
  */
  
}

.respuestaSel3 {
  background-image: url("assets/images/ContRespuestaMd.png") !important;
  background-size: 100% !important;
  background-repeat: no-repeat !important;
  height: 63px;
  font-size: small;
  cursor: pointer;
  padding-top: 7% !important;
    /*
  align-items: center;
  */
  
}

.respuesta4 {
  background-image: url("assets/images/ContRepuestaNoHabBg.png") !important;
  background-size: 100% !important;
  background-repeat: no-repeat !important;
  height: 68px;
  font-size: small;
  cursor: pointer;
  padding-top: 7% !important;
    /*
  align-items: center;
  */
  
}

.respuestaSel4 {
  background-image: url("assets/images/ContRespuestaBg.png") !important;
  background-size: 100% !important;
  background-repeat: no-repeat !important;
  height: 68px;
  font-size: small;
  cursor: pointer;
  padding-top: 7% !important;
    /*
  align-items: center;
  */
  
}

.swal2-cancel{
  border: 2px solid #FFFFFF !important;
  background-color: rgba(0,0,0,0) !important;

}

.slow-animation-show {
  animation: swal2-show 4s; 
}

.slow-animation-hide {
  animation: swal2-hide 2s; 
}

:root {
  --animate-duration: 1400ms;
  --animate-delay: 1.2s;
}

.tithack{
  background-image: url("assets/images/ContTituloHack.png");
  background-size: 100%;
  background-repeat: no-repeat;
  width: auto;
  height: 80px;
}


.fondohack{
  background-image: url("assets/images/ContHack.png");
  background-size: 100%;
  background-repeat: no-repeat;
  width: auto;
  height: 80px;
}

.contentText{
  background-image: url("assets/images/ContPregunta.png");
  background-size: 100% auto;
  background-repeat: no-repeat;
  padding: 10%;
}

.contentText1{
  background-image: url("assets/images/ContPregunta.png");
  background-size: 100% auto;
  background-repeat: no-repeat;
  font-size: small;
  padding: 10%;
}

.contentTextSm{
  background-image: url("assets/images/ContPreguntasm.png");
  background-size: 100% auto;
  background-repeat: no-repeat;
  padding: 10%;
}

.contentTextLg{
  background-image: url("assets/images/ContPreguntalg.png");
  background-size: 100% auto;
  background-repeat: no-repeat;
  font-size: small;
  padding: 10%;
}

.contentTextMd{
  background-image: url("assets/images/ContPreguntamd.png");
  background-size: 100% auto;
  background-repeat: no-repeat;
  font-size: medium;
  padding: 10%;
}

.swal2-footer {
  border-top: '1px solid' !important;
}

swal2-html-container{
  padding: 0%;
}
  </style>
  </head>

  <body>


    <div>X: <span id="muestra"></span></div>
    <div>Z: <span id="muestra1"></span></div>

    <script>

//variables globales de respuestas a los checkpoints
      var respuesta1 = '';
      var respuesta2 = 0;
      var respuesta3 = 0;
      var respuesta4 = 0;
      var respuesta5 = 0;
      var respuesta6 = 0;
      var book = '';

      const r1 = (val) =>{
              respuesta1 = val;
              if(val == 1)
              {
                document.getElementById('r12').classList.remove("respuesta");
                document.getElementById('r12').classList.add("respuestaSel");
                document.getElementById('r11').classList.add("respuesta");
                document.getElementById('r11').classList.remove("respuestaSel");
              }
              else
              {
                document.getElementById('r12').classList.add("respuesta");
                document.getElementById('r12').classList.remove("respuestaSel");
                document.getElementById('r11').classList.remove("respuesta");
                document.getElementById('r11').classList.add("respuestaSel");
              }
            }

            const r2 = (val) =>{
              respuesta2 = val;

              if(val == 1)
              {
                document.getElementById('r22').classList.remove("respuesta3");
                document.getElementById('r22').classList.add("respuestaSel3");
                document.getElementById('r21').classList.add("respuesta3");
                document.getElementById('r21').classList.remove("respuestaSe3");
              }
              else
              {
                document.getElementById('r22').classList.add("respuesta3");
                document.getElementById('r22').classList.remove("respuestaSel3");
                document.getElementById('r21').classList.remove("respuesta3");
                document.getElementById('r21').classList.add("respuestaSel3");
              }
            }

            const r3 = (val) =>{
              respuesta3 = val;
              if(val == 1)
              {
                document.getElementById('r32').classList.remove("respuesta3");
                document.getElementById('r32').classList.add("respuestaSel3");
                document.getElementById('r31').classList.add("respuesta3");
                document.getElementById('r31').classList.remove("respuestaSel3");
              }
              else
              {
                document.getElementById('r32').classList.add("respuesta3");
                document.getElementById('r32').classList.remove("respuestaSel3");
                document.getElementById('r31').classList.remove("respuesta3");
                document.getElementById('r31').classList.add("respuestaSel3");
              }
            }

            const r4 = (val) =>{
              respuesta4 = val;
              if(val == 1)
              {
                document.getElementById('r42').classList.remove("respuesta1");
                document.getElementById('r42').classList.add("respuestaSel");
                document.getElementById('r41').classList.add("respuesta1");
                document.getElementById('r41').classList.remove("respuestaSel");
              }
              else
              {
                document.getElementById('r42').classList.add("respuesta1");
                document.getElementById('r42').classList.remove("respuestaSel");
                document.getElementById('r41').classList.remove("respuesta1");
                document.getElementById('r41').classList.add("respuestaSel");
              }
            }

            const r5 = (val) =>{
              respuesta5 = val;
              if(val == 1)
              {
                document.getElementById('r52').classList.remove("respuesta1");
                document.getElementById('r52').classList.add("respuestaSel");
                document.getElementById('r51').classList.add("respuesta1");
                document.getElementById('r51').classList.remove("respuestaSel");
              }
              else
              {
                document.getElementById('r52').classList.add("respuesta1");
                document.getElementById('r52').classList.remove("respuestaSel");
                document.getElementById('r51').classList.remove("respuesta1");
                document.getElementById('r51').classList.add("respuestaSel");
              }
            }

            const r6 = (val) =>{
              respuesta6 = val;
              if(val == 1)
              {
                document.getElementById('r62').classList.remove("respuesta3");
                document.getElementById('r62').classList.add("respuestaSel3");
                document.getElementById('r61').classList.add("respuesta3");
                document.getElementById('r61').classList.remove("respuestaSel3");
              }
              else
              {
                document.getElementById('r62').classList.add("respuesta3");
                document.getElementById('r62').classList.remove("respuestaSel3");
                document.getElementById('r61').classList.remove("respuesta3");
                document.getElementById('r61').classList.add("respuestaSel3");
              }
            }
    
      
      Swal.fire({
            html:"<div align='right'><img src='assets/images/LogoSplash.png' style='width:120px'></div><br><div><img src='assets/images/ObjetosTop.png' style='width:100%;margin:0'></div><div align='center'><img src='assets/images/Titulo.png' style='width:87%;margin:0'></div>",
            focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  allowEnterKey: false,
  footer:"<div><img src='assets/images/ObjetosBottom.png' style='width:100%;margin:0'></div><br><div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",
  confirmButtonText:
    'Comenzar',
    background: 'rgba(0, 68, 129)  url(assets/images/fondo.png)',
    backdrop: `
    rgba(0, 68, 129)
  `,
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
          }).then((result) => {
  if (result.isConfirmed) {
    Swal.fire(
      { 
        html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><br><div align="left"><img src="assets/images/TInstrucciones.png" style="width:240px"></div><div align="right"><img src="assets/images/ObjFondoInstrucciones.png" style="width:70px; margin-top:-10px"></div><div align=center><img src="assets/images/Instrucciones.png" style="width:92%"></div><br>',
        background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Comenzar',
  footer:"<br><div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
    )

    
    
  }
}) ;


          
      const { enable3d, Scene3D, Canvas, ThirdDimension, ExtendedObject3D, FirstPersonControls, JoyStick, THREE } = ENABLE3D
      const isTouchDevice = 'ontouchstart' in window

      class MainScene extends Scene3D {
        constructor() {
          super({ key: 'MainScene' })
          this.move = { x: 0, y: 0, z: 0 }
        }

        preload() {
          
          
        }

        init() {

          this.accessThirdDimension({ maxSubSteps: 10, fixedTimeStep: 1 / 180 })
          this.third.load.preload('grass', 'assets/images/grass.jpg')
        }


        postRender() {
          this.third.renderer.setViewport(0, 0, window.innerWidth, window.innerHeight)
          this.third.renderer.render(this.third.scene, this.third.camera)
        }

        async create() {

          const joystick = new JoyStick()
          this.globalmove = true;
          this.move = false;
          this.moveb = false;
          this.rotando = false;
          this.rotandoreverse = false;
          this.alertado = false;
          this.alertado2 = false;
          this.alertado3 = false;
          this.alertado4 = false;
          this.alertado5 = false;
          this.alertado6 = false;
          this.alertadofin = false;




          //probando luces

          //this.third.warpSpeed('light','camera','orbitControls')

          const { lights } = await this.third.warpSpeed('sky','light','camera','orbitControls')
          const { hemisphereLight, ambientLight, directionalLight } = lights
          const intensity = 0.23
          hemisphereLight.intensity = intensity
          ambientLight.intensity = intensity
          directionalLight.intensity = intensity

          //fin prueba luces

          const col1a = this.third.physics.add.box(
            { name: 'col1a', x: -1.56, y: 1, z: 2.41, width: 0.5, height: 0.5, depth: 0.6 }
          )
          col1a.visible = false
          col1a.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col1a)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/
this.third.physics.add.existing(book.children[0].children[1].children[4].children[0], {
                    shape: 'concave',
                    mass: 0,});
this.third.physics.add.existing(book.children[0].children[1].children[5].children[0], {
                    shape: 'concave',
                    mass: 0,});
   book.children[0].children[1].children[4].visible = true;
   book.children[0].children[1].children[5].visible = true;
            }

          })

          const col1b = this.third.physics.add.box(
            { name: 'col1b', x: 1.30, y: 1, z: 2.56, width: 0.42, height: 0.4, depth: 0.4 }
          )
          col1b.visible = false
          col1b.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col1b)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/


book.children[0].children[341].children[4].visible = true;
   book.children[0].children[341].children[5].visible = true;
            }

          })


          const col1 = this.third.physics.add.box(
            { name: 'col1', x: 0.02, y: 1, z: 2.00, width: 0.5, height: 0.5, depth: 0.5 }
          )
          col1.visible = false
          col1.body.on.collision((otherObject, event) => {
            if (otherObject.name == 'jugador' && this.alertado == false){
              console.log(`${otherObject.name}: ${event}`)
              this.third.physics.destroy(col1)

              this.move = false;
            this.globalmove = false;
            this.alertado = true;


Swal.fire({
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
  hideClass: {
    popup: 'slow-animation-hide'
  },
  html:"<div align='right'><img src='assets/images/LogoBBVAgral.png' style='width:120px'></div><div align='left'><img src='assets/images/loading.png' style='width:60px'></div><br><br><div align='center' class='contentTextSm'>Has recibido un <strong>dinero extra</strong> y estás emocionado, puedes elegir <strong>entre</strong> 2 opciones:<br><br></div><div class='respuesta' id='r11' onclick='r1(0)'>Te vas al viaje de tus sueños</div><br><div class='respuesta' id='r12' onclick='r1(1)'>Ahorras para tu futuro</div>",
  focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  allowEnterKey: false,
  footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",
  
  confirmButtonText:
    'Continuar',
     background: 'rgba(0, 68, 129, 0.50)  url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,
  color: 'white',
}).then((result) => {
  if (result.isConfirmed) {

    if(respuesta1 == 1){

      Swal.fire(
      { 
        html: '<div align="center" style="height:100%"><img src="assets/images/Correcto.png" style="width:95%;margin-top:55%;margin-bottom:45%"></div>',
        background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
        timer: 3000,
        showConfirmButton: false,
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Continuar'}
    ).then((result)=>{
      Swal.fire(
      { 
        html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack2.png"></div><br><div class="contbody"><strong>Crea un Presupuesto:</strong> que te ayude a controlar tu dinero y a destinar una parte a tus metas a largo plazo. (Descarga el formato al finalizar la actividad)<br><br> <strong>Automatiza el Ahorro:</strong> Aprovecha las herramientas financieras que te faciliten ahorrar. (Descarga un infografía)<br><br> <strong>Acostúmbrate a posponer la gratificación:</strong> Recuerda que la recompensa a largo plazo es mucho más satisfactoria.</span></div>',
        background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Continuar',
  footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
    )

    })

    this.third.physics.destroy(book.children[0].children[1].children[4]);
   this.third.physics.destroy(book.children[0].children[1].children[5]);

   this.third.physics.destroy(book.children[0].children[1].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[1].children[5].children[0]);



   book.children[0].children[1].children[4].visible = false;
   book.children[0].children[1].children[5].visible = false;




    }
    else
    {
      Swal.fire(
      { 
        html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div> <br><br><div align="center"><img src="assets/images/PrecaucionSesgo.png" style="width:92%"><br><br></div>',
        background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Continuar',
  footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>"}
    ).then((result)=>{
      Swal.fire(
      { 
        html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack2.png"></div><br><div class="contbody"><strong>Crea un Presupuesto:</strong> que te ayude a controlar tu dinero y a destinar una parte a tus metas a largo plazo. (Descarga el formato al finalizar la actividad)<br><br> <strong>Automatiza el Ahorro:</strong> Aprovecha las herramientas financieras que te faciliten ahorrar. (Descarga un infografía)<br><br> <strong>Acostúmbrate a posponer la gratificación:</strong> Recuerda que la recompensa a largo plazo es mucho más satisfactoria.</span></div>',
        background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Continuar',
  footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
    )

    })

    this.third.physics.destroy(book.children[0].children[341].children[4]);
   this.third.physics.destroy(book.children[0].children[341].children[5]);

   this.third.physics.destroy(book.children[0].children[341].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[341].children[5].children[0]);



   book.children[0].children[341].children[4].visible = false;
   book.children[0].children[341].children[5].visible = false;
    }

  


    this.globalmove = true;
    this.player.position.setX(1.10)
    this.player.position.setZ(10.05)

    
    
  }
  else{
    Swal.fire(
      { 
        icon : 'success',
        html: '<span style="color:white"><div align="right" class="tithack"><span style="font-family:BentonBold">Hacks para evitar caer en el sesgo del presente:</span></div><br><br><div class="fondohack"> <strong>Crea un Presupuesto:</strong> que te ayude a controlar tu dinero y a destinar una parte a tus metas a largo plazo. (Descarga el formato al finalizar la actividad)<br><br> <strong>Automatiza el Ahorro:</strong> Aprovecha las herramientas financieras que te faciliten ahorrar. (Descarga un infografía)<br><br> <strong>Acostúmbrate a posponer la gratificación:</strong> Recuerda que la recompensa a largo plazo es mucho más satisfactoria.</span></div>',
        background: 'rgba(0, 68, 129, 0.50)  url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Continuar',
  footer:"<br><div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",
 }
    )

    this.globalmove = true;
  }
}) 
          } 
          })


          const col2a = this.third.physics.add.box(
            { name: 'col2a', x: -1.10, y: 1, z: 5.74, width: 0.5, height: 0.5, depth: 0.6 }
          )
          col2a.visible = false
          col2a.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col2a)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[343].children[4].visible = true;
   book.children[0].children[343].children[5].visible = true;
            }

          })


          const col2b = this.third.physics.add.box(
            { name: 'col2b', x: 0.91, y: 1, z: 5.70, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col2b.visible = false
          col2b.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col2b)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[342].children[4].visible = false;
   book.children[0].children[342].children[5].visible = false;
            }

          })

          const col2 = this.third.physics.add.box(
            { name: 'col2', x: -0.06, y: 1, z: 4.89, width: 0.5, height: 0.5, depth: 0.5 }
          )
          col2.visible = false
          col2.body.on.collision((otherObject, event) => {
            if (otherObject.name == 'jugador' && this.alertado2 == false){
              console.log(`${otherObject.name}: ${event}`)
              this.third.physics.destroy(col2)
              this.move = false;
            this.globalmove = false;
            this.alertado2 = true;
            Swal.fire({
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
  hideClass: {
    popup: 'slow-animation-hide'
  },
  html:"<div align='right'><img src='assets/images/LogoBBVAgral.png' style='width:120px'></div><div align='center' class='contentTextMd'>Estás considerando tomar un préstamo para un negocio propio. Has buscado información sobre el préstamo y has encontrado algunos testimonios de personas que tuvieron éxito con esta estrategia.</div><br><div class='respuesta3' onclick='r2(0)' id='r21'>Te enfocas solamente en los testimonios<br> positivos y decides tomarlo</div><div class='respuesta3' onclick='r2(1)' id='r22'>Investigas los testimonios positivos, los posibles riesgos y desafíos asociados al tomarlo</div>",
  focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  allowEnterKey: false,
  footer:"",
  confirmButtonText:
    'Continuar',
  showCancelButton: false,
    background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,
  color: 'white',
}).then((result) => {
  if (result.isConfirmed) {

    if(respuesta2 == 1){

Swal.fire(
{ 
  html: '<div align="center" style="height:100%"><img src="assets/images/Correcto.png" style="width:95%;margin-top:55%;margin-bottom:45%"></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  timer: 3000,
  showConfirmButton: false,
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar'}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack3.png"></div><br><div class="contbody"><br><strong>Busca Perspectivas Diversas:</strong> Consulta información que tenga puntos de vista diferentes a los tuyos.<br><br> <strong>Desafía Tus Creencias:</strong> Pregúntate por qué crees lo que crees y si hay evidencia objetiva que respalde tus creencias.<br><br> <strong>Mantén la Mente Abierta:</strong> Estar dispuesto a cambiar de opinión es una señal de fortaleza.</div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})

this.third.physics.destroy(book.children[0].children[343].children[4]);
   this.third.physics.destroy(book.children[0].children[343].children[5]);

   this.third.physics.destroy(book.children[0].children[343].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[343].children[5].children[0]);



   book.children[0].children[343].children[4].visible = false;
   book.children[0].children[343].children[5].visible = false;

}
else
{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div> <br><br><div align="center"><img src="assets/images/PrecaucionSesgo.png" style="width:92%"><br><br></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>"}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack3.png"></div><br><div class="contbody"><br><strong>Busca Perspectivas Diversas:</strong> Consulta información que tenga puntos de vista diferentes a los tuyos.<br><br> <strong>Desafía Tus Creencias:</strong> Pregúntate por qué crees lo que crees y si hay evidencia objetiva que respalde tus creencias.<br><br> <strong>Mantén la Mente Abierta:</strong> Estar dispuesto a cambiar de opinión es una señal de fortaleza.</div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})

this.third.physics.destroy(book.children[0].children[342].children[4]);
   this.third.physics.destroy(book.children[0].children[342].children[5]);

   this.third.physics.destroy(book.children[0].children[342].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[342].children[5].children[0]);



   book.children[0].children[342].children[4].visible = false;
   book.children[0].children[342].children[5].visible = false;
}


    this.globalmove = true;
      }
})  
            }
          })


          const col3a = this.third.physics.add.box(
            { name: 'col3a', x: -3.09, y: 1, z: 8.0, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col3a.visible = false
          col3a.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col3a)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[345].children[4].visible = true;
   book.children[0].children[345].children[5].visible = true;
            }

          })


          const col3b = this.third.physics.add.box(
            { name: 'col3b', x: -1.37, y: 1, z: 8.75, width: 0.5, height: 0.4, depth: 0.4 }
          )
          col3b.visible = false
          col3b.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col3b)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[344].children[4].visible = true;
   book.children[0].children[344].children[5].visible = true;
            }

          })


          const col3 = this.third.physics.add.box(
            { name: 'col3', x: -1.07, y: 1, z: 7.42, width: 0.5, height: 0.5, depth: 0.5 }
          )
          col3.visible = false
          col3.body.on.collision((otherObject, event) => {
            if (otherObject.name == 'jugador' && this.alertado3 == false){
              console.log(`${otherObject.name}: ${event}`)
              this.third.physics.destroy(col3)
              this.move = false;
            this.globalmove = false;
            this.alertado3 = true;
            Swal.fire({
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
  hideClass: {
    popup: 'slow-animation-hide'
  },
  html:"<div align='right'><img src='assets/images/LogoBBVAgral.png' style='width:120px'></div><br><div align='center' class='contentTextMd'><br>Imagina que estás <strong>pensando</strong> invertir <strong>tu dinero</strong> en una oportunidad que un influencer <strong>asegura</strong> es “la inversión del siglo”.</div><br><div class='respuesta3' onclick='r3(0)' id='r31'>Decides invertir todos tus ahorros en esta oportunidad solo porque confías en él.</div><br><div class='respuesta3' onclick='r3(1)'  id='r32'>Decides investigar más a fondo,<br> antes de decidir.</div>",
  focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  allowEnterKey: false,
  footer:"",
  confirmButtonText:
    'Continuar',
  showCancelButton: false,
    background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,
  color: 'white',
}).then((result) => {
  if (result.isConfirmed) {


    if(respuesta3 == 1){

Swal.fire(
{ 
  html: '<div align="center" style="height:100%"><img src="assets/images/Correcto.png" style="width:95%;margin-top:55%;margin-bottom:45%"></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  timer: 3000,
  showConfirmButton: false,
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar'}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack4.png"></div><br><br><div class="contbody" style="margin-top:3px"><strong>Investigación Independiente:</strong> No te límites a aceptar una recomendación sólo porque alguien con autoridad o fama la hizo. Investiga por ti mismo. <br><br> <strong>Pregunta a Expertos: Existen</strong>  profesionales <strong>que</strong> tienen experiencia y pueden proporcionarte orientación objetiva.<br><br> <strong>Controla Tus Emociones:</strong> Reconoce <strong>que tus emociones pueden estar influenciadas por la fama del personaje.</strong></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})


this.third.physics.destroy(book.children[0].children[345].children[4]);
   this.third.physics.destroy(book.children[0].children[345].children[5]);

   this.third.physics.destroy(book.children[0].children[345].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[345].children[5].children[0]);



   book.children[0].children[345].children[4].visible = false;
   book.children[0].children[345].children[5].visible = false;

}
else
{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div> <br><br><div align="center"><img src="assets/images/PrecaucionSesgo.png" style="width:92%"><br><br></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>"}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack4.png"></div><br><br><div class="contbody" style="margin-top:3px"><strong>Investigación Independiente:</strong> No te límites a aceptar una recomendación sólo porque alguien con autoridad o fama la hizo. Investiga por ti mismo. <br><br> <strong>Pregunta a Expertos: Existen</strong>  profesionales <strong>que</strong> tienen experiencia y pueden proporcionarte orientación objetiva.<br><br> <strong>Controla Tus Emociones:</strong> Reconoce <strong>que tus emociones pueden estar influenciadas por la fama del personaje.</strong></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})

this.third.physics.destroy(book.children[0].children[344].children[4]);
   this.third.physics.destroy(book.children[0].children[344].children[5]);

   this.third.physics.destroy(book.children[0].children[344].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[344].children[5].children[0]);



   book.children[0].children[344].children[4].visible = false;
   book.children[0].children[344].children[5].visible = false;

}





    this.globalmove = true;
  }
  
})  
            }
          })




          const col4a = this.third.physics.add.box(
            { name: 'col4a', x: 2.81, y: 1, z: 8.63, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col4a.visible = false
          col4a.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col4a)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[346].children[4].visible = true;
   book.children[0].children[346].children[5].visible = true;
            }

          })


          const col4b = this.third.physics.add.box(
            { name: 'col4b', x: 0.30, y: 1, z: 9.88, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col4b.visible = false
          col4b.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col4b)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[347].children[4].visible = true;
   book.children[0].children[347].children[5].visible = true;
            }

          })

          const col4 = this.third.physics.add.box(
            { name: 'col4', x: 0.95, y: 1, z: 11.05, width: 0.5, height: 0.5, depth: 0.5 }
          )
          col4.visible = false
          col4.body.on.collision((otherObject, event) => {
            if (otherObject.name == 'jugador' && this.alertado4 == false){
              console.log(`${otherObject.name}: ${event}`)
              this.third.physics.destroy(col4)
              this.move = false;
            this.globalmove = false;
            this.alertado4 = true;
            Swal.fire({
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
  hideClass: {
    popup: 'slow-animation-hide'
  },
  html:"<div align='right'><img src='assets/images/LogoBBVAgral.png' style='width:120px'></div><br><div align='center' class='contentTextLg'><br><strong>Tu grupo</strong> de amigos está emocionado por invertir en una <strong>nueva</strong> criptomoneda; <strong>comparten</strong> historias de personas que ganaron mucho y sientes la presión de unirte <strong>para no</strong> quedarte <strong>fuera</strong>.</div><br><div class='respuesta1' onclick='r4(0)' id='r41'>Decides invertir en la nueva criptomoneda</div><br><div class='respuesta1' onclick='r4(1)' id='r42'>Investigas a fondo antes de decidir</div>",
  focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  allowEnterKey: false,
  footer:"",
  confirmButtonText:
    'Continuar',
  showCancelButton: false,
  
    background: 'rgba(0, 68, 129, 0.50)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,
  color: 'white',
}).then((result) => {
  if (result.isConfirmed) {



    if(respuesta4 == 1){

Swal.fire(
{ 
  html: '<div align="center" style="height:100%"><img src="assets/images/Correcto.png" style="width:95%;margin-top:55%;margin-bottom:45%"></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  timer: 3000,
  showConfirmButton: false,
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar'}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack5.png"></div><br><div class="contbody"><br><strong>Define tus objetivos financieros:</strong> Establece metas claras y prioridades personales.<br><br> <strong>No te dejes llevar:</strong>  No te sientas obligado a hacer lo que hacen los demás.<br><br> <strong>Pon tus propias reglas:</strong> Date un tiempo para reflexionar y evaluar lo que a ti te conviene.</div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})


this.third.physics.destroy(book.children[0].children[346].children[4]);
   this.third.physics.destroy(book.children[0].children[346].children[5]);

   this.third.physics.destroy(book.children[0].children[346].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[346].children[5].children[0]);



   book.children[0].children[346].children[4].visible = false;
   book.children[0].children[346].children[5].visible = false;

}
else
{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div> <br><br><div align="center"><img src="assets/images/PrecaucionSesgo.png" style="width:92%"><br><br></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>"}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack5.png"></div><br><div class="contbody"><br><strong>Define tus objetivos financieros:</strong> Establece metas claras y prioridades personales.<br><br> <strong>No te dejes llevar:</strong>  No te sientas obligado a hacer lo que hacen los demás.<br><br> <strong>Pon tus propias reglas:</strong> Date un tiempo para reflexionar y evaluar lo que a ti te conviene.</div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})

this.third.physics.destroy(book.children[0].children[347].children[4]);
   this.third.physics.destroy(book.children[0].children[347].children[5]);

   this.third.physics.destroy(book.children[0].children[347].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[347].children[5].children[0]);



   book.children[0].children[347].children[4].visible = false;
   book.children[0].children[347].children[5].visible = false;
}

    this.globalmove = true;
  }



})  
            }
          })


          const col5a = this.third.physics.add.box(
            { name: 'col5a', x: 3.62, y: 1, z: 9.94, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col5a.visible = false
          col5a.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col5a)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[351].children[4].visible = true;
   book.children[0].children[351].children[5].visible = true;
            }

          })



                    const col5b = this.third.physics.add.box(
            { name: 'col5b', x: 5.22, y: 1, z: 8.78, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col5b.visible = false
          col5b.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col5b)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[350].children[4].visible = true;
   book.children[0].children[350].children[5].visible = true;
            }

          })

          const col5 = this.third.physics.add.box(
            { name: 'col5', x: 3.11, y: 1, z: 8.66, width: 0.5, height: 0.5, depth: 0.5 }
          )
          col5.visible = false;
          col5.body.on.collision((otherObject, event) => {
            if (otherObject.name == 'jugador' && this.alertado5 == false){
              console.log(`${otherObject.name}: ${event}`)
              this.third.physics.destroy(col5)

              this.move = false;
            this.globalmove = false;
            this.alertado5 = true;
            Swal.fire({
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
  hideClass: {
    popup: 'slow-animation-hide'
  },
  html:"<div align='right'><img src='assets/images/LogoBBVAgral.png' style='width:120px'></div><br><div align='center' class='contentTextMd'><br>Tienes 6 meses <strong>en un nuevo trabajo con</strong> un excelente ingreso, has alcanzado un estilo de vida <strong>próspero</strong> y tienes 2 caminos:</div><br><div class='respuesta1' onclick='r5(0)'  id='r51'>Mantener tu estilo de vida<br> sin pensar en el futuro.</div><br><div class='respuesta1' onclick='r5(1)'  id='r52'>Bajar un poco tus gastos y ahorrar una parte.</div>",
  focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  allowEnterKey: false,
  footer:"",
  confirmButtonText:
    'Continuar',
  showCancelButton: false,
    background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,
  color: 'white',
}).then((result) => {
  if (result.isConfirmed) {

    if(respuesta5 == 1){

Swal.fire(
{ 
  html: '<div align="center" style="height:100%"><img src="assets/images/Correcto.png" style="width:95%;margin-top:55%;margin-bottom:45%"></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  timer: 3000,
  showConfirmButton: false,
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar'}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack6.png"></div><br><div class="contbody"><br><strong>Planifica a Largo Plazo:</strong> Esto te ayuda a <strong>enfrentar cambios futuros en tus finanzas.</strong><br><br> <strong>Evita la Sobreconfianza:</strong> nadie puede prever el futuro <strong>es mejor estar preparado para cualquier situación.</strong><br><br> <strong>Prueba Escenarios:</strong> Considera diferentes <strong>escenarios y no te confíes en que todo seguirá igual.</strong></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})

this.third.physics.destroy(book.children[0].children[351].children[4]);
   this.third.physics.destroy(book.children[0].children[351].children[5]);

   this.third.physics.destroy(book.children[0].children[351].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[351].children[5].children[0]);



   book.children[0].children[351].children[4].visible = false;
   book.children[0].children[351].children[5].visible = false;

}
else
{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div> <br><br><div align="center"><img src="assets/images/PrecaucionSesgo.png" style="width:92%"><br><br></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>"}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack6.png"></div><br><div class="contbody"><br><strong>Planifica a Largo Plazo:</strong> Esto te ayuda a <strong>enfrentar cambios futuros en tus finanzas.</strong><br><br> <strong>Evita la Sobreconfianza:</strong> nadie puede prever el futuro <strong>es mejor estar preparado para cualquier situación.</strong><br><br> <strong>Prueba Escenarios:</strong> Considera diferentes <strong>escenarios y no te confíes en que todo seguirá igual.</strong></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})

this.third.physics.destroy(book.children[0].children[350].children[4]);
   this.third.physics.destroy(book.children[0].children[350].children[5]);

   this.third.physics.destroy(book.children[0].children[350].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[350].children[5].children[0]);



   book.children[0].children[350].children[4].visible = false;
   book.children[0].children[350].children[5].visible = false;
}




    /*

    Swal.fire(
      { 
        icon : 'error',
        html: '<span style="color:white"><strong>Hacks para evitar caer en el sesgo de Proyección:</strong><br><br> <strong>Planifica a Largo Plazo:</strong> Esto te ayuda a <strong>enfrentar cambios futuros en tus finanzas.</strong><br><br> <strong>Evita la Sobreconfianza:</strong> nadie puede prever el futuro <strong>es mejor estar preparado para cualquier situación.</strong><br><br> <strong>Prueba Escenarios:</strong> Considera diferentes <strong>escenarios y no te confíes en que todo seguirá igual.</strong><span>',
          background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Continuar'}
    )

*/


    this.globalmove = true;
  }
  


})  
            }
          })

          const col6a = this.third.physics.add.box(
            { name: 'col6a', x: 7.28, y: 1, z: 8.17, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col6a.visible = false
          col6a.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col6a)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[348].children[4].visible = true;
   book.children[0].children[348].children[5].visible = true;
            }

          })


          const col6b = this.third.physics.add.box(
            { name: 'col6b', x: 8.17, y: 1, z: 7.80, width: 0.4, height: 0.4, depth: 0.4 }
          )
          col6b.visible = false
          col6b.body.on.collision((otherObject, event) => {

            if (otherObject.name == 'jugador'){

              this.third.physics.destroy(col6b)

              /*
              this.third.physics.add(book.children[0].children[1].children[4]);
   this.third.physics.add(book.children[0].children[1].children[5]);

   this.third.physics.add(book.children[0].children[1].children[4].children[0]);
   this.third.physics.add(book.children[0].children[1].children[5].children[0]);

*/

book.children[0].children[349].children[4].visible = false;
            }

          })

          

          const col6 = this.third.physics.add.box(
            { name: 'col6', x: 7.19, y: 1, z: 9.36, width: 0.5, height: 0.5, depth: 0.5 }
          )
          col6.visible = false
          col6.body.on.collision((otherObject, event) => {
            if (otherObject.name == 'jugador' && this.alertado6 == false){
              console.log(`${otherObject.name}: ${event}`)
              this.third.physics.destroy(col6)

              this.move = false;
            this.globalmove = false;
            this.alertado6 = true;
            Swal.fire({
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
  hideClass: {
    popup: 'slow-animation-hide'
  },
  html:"<div align='right'><img src='assets/images/LogoBBVAgral.png' style='width:120px'></div><div align='center' class='contentTextSm'><strong>Has conseguido tu primer empleo</strong> y estás abrumado por tanta información sobre cómo administrar tu <strong>dinero</strong>.<br></div><br><div class='respuesta3' onclick='r6(0)'  id='r61'>Te estresas y te paralizas debido a tanta información.</div><br><div class='respuesta3' onclick='r6(1)'  id='r62'>Decides tomarlo paso a paso, priorizar tus necesidades y consultar un experto autorizado.</div>",
  focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  allowEnterKey: false,
  footer:"",
  confirmButtonText:
    'Continuar',
  showCancelButton: false,
    background: 'rgba(0, 68, 129, 0.50)  url(assets/images/fondo.png)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,
  color: 'white',
}).then((result) => {
  if (result.isConfirmed) {

    if(respuesta6 == 1){

Swal.fire(
{ 
  html: '<div align="center" style="height:100%"><img src="assets/images/Correcto.png" style="width:95%;margin-top:55%;margin-bottom:45%"></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
  timer: 3000,
  showConfirmButton: false,
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar'}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack7.png"></div><br><div class="contbody"><br><strong>Mantén Simplicidad:</strong> En la mayoría de los casos, las soluciones más simples son las mejores.<br><br> <strong>Establece Objetivos Claros:</strong> Esto te ayudará a enfocarte en las <strong>decisiones más importantes</strong> para ti.<br><br> <strong>Limita las Fuentes de Información:</strong> Elige fuentes confiables y <strong>no temas acercarte a los expertos.</strong></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})


this.third.physics.destroy(book.children[0].children[348].children[4]);
   this.third.physics.destroy(book.children[0].children[348].children[5]);

   this.third.physics.destroy(book.children[0].children[348].children[4].children[0]);
   this.third.physics.destroy(book.children[0].children[348].children[5].children[0]);



   book.children[0].children[348].children[4].visible = false;
   book.children[0].children[348].children[5].visible = false;
}
else
{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div> <br><br><div align="center"><img src="assets/images/PrecaucionSesgo.png" style="width:92%"><br><br></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>"}
).then((result)=>{
Swal.fire(
{ 
  html: '<div align="right"><img src="assets/images/LogoBBVAgral.png" style="width:120px"></div><span style="color:white"><div align="right"><img src="assets/images/ContTituloHack7.png"></div><br><div class="contbody"><strong>Mantén Simplicidad:</strong> En la mayoría de los casos, las soluciones más simples son las mejores.<br><br> <strong>Establece Objetivos Claros:</strong> Esto te ayudará a enfocarte en las <strong>decisiones más importantes</strong> para ti.<br><br> <strong>Limita las Fuentes de Información:</strong> Elige fuentes confiables y <strong>no temas acercarte a los expertos.</strong></div>',
  background: 'rgba(0, 68, 129, 0.50) url(assets/images/fondo.png)',
backdrop: `
rgba(0, 68, 129, 0.50)
`,confirmButtonText: 'Continuar',
footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",}
)

})

this.third.physics.destroy(book.children[0].children[349].children[4]);


   this.third.physics.destroy(book.children[0].children[349].children[4].children[0]);
  



   book.children[0].children[349].children[4].visible = false;

}






    /*
    Swal.fire(
      { 
        icon : 'error',
        html: '<span style="color:white"><strong>Hacks para evitar caer en el sesgo de carga cognitiva:</strong><br><br> <strong>Mantén Simplicidad:</strong> En la mayoría de los casos, las soluciones más simples son las mejores.<br><br> <strong>Establece Objetivos Claros:</strong> Esto te ayudará a enfocarte en las <strong>decisiones más importantes</strong> para ti.<br><br> <strong>Limita las Fuentes de Información:</strong> Elige fuentes confiables y <strong>no temas acercarte a los expertos.</strong></span>',
        background: 'rgba(0, 68, 129, 0.50)',
  backdrop: `
    rgba(0, 68, 129, 0.50)
  `,confirmButtonText: 'Continuar'}
    )
        */



    this.globalmove = true;
  }
  
})  
            }
          })
          
          
          const col7 = this.third.physics.add.box(
            { name: 'col7', x: 7.73, y: 1, z: 7.04, width: 0.5, height: 0.5, depth: 0.5 }
          )
          col7.visible = false
          col7.body.on.collision((otherObject, event) => {
            if (otherObject.name == 'jugador' && this.alertadofin == false){
              console.log(`${otherObject.name}: ${event}`)
              this.third.physics.destroy(col7)

              this.alertadofin = true;
            Swal.fire({
              
            html:"<div align='right'><img src='assets/images/LogoBBVAgral.png' style='width:120px'></div><br><div align='center'><img src='assets/images/ObjFonDescargarHacks.png' style='width:98%'></div><br><div align='center'><img src='assets/images/TextFinal.png' style='width:98%'></div><br><br><div align='center'><a href='assets/docs/Hackea tu sistema.pdf' download><img src='assets/images/BotonDescHacks.png' style='width:98%; cursor:pointer'></a></div>",
            focusConfirm: false,
  allowOutsideClick: false,
  allowEscapeKey: false,
  footer:"<div><img src='assets/images/VisorInferior.png' style='width:100%;margin:0'></div>",
  confirmButtonText:
    'Obtener sello',
    background: 'rgba(0, 68, 129, 0.5) url(assets/images/fondo.png)',
    backdrop: `
    rgba(0, 68, 129, 0.5)
  `,
  showClass: {
    popup: 'animate__animated animate__fadeInDown animate__delay'
  },
          });
            }
          })
            
          this.third.renderer.gammaFactor = 1.5
          const camera1 = this.third.camera.layers.enable(1) 
          
          this.third.physics.add.ground({ width: 80, height: 80, y: -0.9 })

          this.scene.scene.game.events.on('postrender', (renderer, time, delta) => {
            this.postRender()
          })

          

            this.third.load.gltf('assets/glb/laberinto5.glb').then(object => {
            const scene = object.scenes[0]

            book = new ExtendedObject3D()
            book.name = 'scene'
            book.add(scene)
            this.third.add.existing(book)
            book.scale.set(0.14, 0.14, 0.14)
            book.position.set(0, 0, 0)

         

            // add animations
            

            book.traverse(child => {
              if (child.isMesh) {
                child.castShadow = child.receiveShadow = false
                child.material.metalness = 0
                child.material.roughness = 1

                if (/mesh/i.test(child.name)) {
                  this.third.physics.add.existing(child, {
                    shape: 'concave',
                    mass: 0,
                    collisionFlags: 1,
                    autoCenter: false
                  })
                  child.body.setAngularFactor(0, 0, 0)
                  child.body.setLinearFactor(0, 0, 0)
                }
              }
            })
          })

          /*
          const maze1 = new ExtendedObject3D()
          //const pos = { x: 0, y: 0.4, z: 0 }
          const pos = { x: 0, y: 0, z: 0 }
          this.third.load.fbx('assets/fbx/prueba3.fbx').then(object => {
            maze1.add(object)
            //maze1.scale.set(0.005, 0.005, 0.005)
            maze1.scale.set(0.0025, 0.0025, 0.0025)
            maze1.position.set(pos.x, pos.y, pos.z)
           
            this.third.add.existing(maze1)
            this.third.physics.add.existing(maze1, { shape: 'concave', offset: { y: -0.5 } })
            maze1.body.setAngularFactor(0, 0, 0)
          maze1.body.setLinearFactor(0, 0, 0)
          maze1.body.setFriction(0.8)
          })
          */


          // crear jugador
          this.player = new ExtendedObject3D()
          this.player.position.setY(1.5)
          this.player.name = 'jugador'

          // agregar a jugar controles en primera persona
         
          this.firstPersonControls = new FirstPersonControls(this.third.camera, this.player, { offset: new THREE.Vector3(0, 1, 0),
              targetRadius: 3})

              

              this.third.physics.add.existing(this.player, {
              name: 'jugador',
              shape: 'capsule',
              radius: 0.03,
              height: 0.2,
              offset: { y: 0.1 },
              lambert: { color: 0xff0000 } 
            })
            this.player.body.setFriction(0.8)
            this.player.body.setAngularFactor(0, 0, 0)
          this.events.on('update', () => {
            this.firstPersonControls.update(0, 0)
          })


          // agregar teclas de acción
          this.keys = {
            w: this.input.keyboard.addKey('w'),
            a: this.input.keyboard.addKey('a'),
            s: this.input.keyboard.addKey('s'),
            d: this.input.keyboard.addKey('d'),
            q: this.input.keyboard.addKey('q'),
            e: this.input.keyboard.addKey('e')
          }

          this.buttonB = joystick.add.button({
              letter: '∆',
              styles: { left: 30, bottom: 110, size: 35 }
            })
            this.buttonB.addClassName = 'bup'
            this.buttonB.onClick(() => { this.move = true; console.log(book.children[0])})
            this.buttonB.onRelease(() => (this.move = false))

            this.buttonB = joystick.add.button({
              letter: '∇',
              styles: { left: 30, bottom: 35, size: 35 }
            })
            this.buttonB.onClick(() => { this.moveb = true})
            this.buttonB.onRelease(() => (this.moveb = false))
            const axis = joystick.add.axis({
              styles: { right: 40, bottom: 35, size: 70 }
            })
            axis.onMove(event => {
              const { top, right } = event
              this.moveTop = top * 3
              this.moveRight = right * 3
              //this.firstPersonControls.update(top * 30, 0)
              if(right * 3 > 0)
              {
                this.rotando = true;
              }
              else if(right * 3 < 0)
              {
                this.rotandoreverse = true;
              }
              else{
                this.rotando = false;
                this.rotandoreverse = false;
              }
            })
        }

        update(time, delta) {
          const speed = 0.05
            const direction = new THREE.Vector3()
            const rotation = this.third.camera.getWorldDirection(direction)
            const theta = Math.atan2(rotation.x, rotation.z)
            let rotationSpeed = 4

          if(this.player.position.y < -0.09)
          {
            this.player.position.y = 1.5;
          }

          if (this.keys.q.isDown) {
              this.third.camera.rotateZ(0.2)
              this.firstPersonControls.offset = new THREE.Vector3(
                Math.sin(theta + Math.PI * 0.5) * 0.4,
                0,
                Math.cos(theta + Math.PI * 0.5) * 0.4
              )
            } else if (this.keys.e.isDown) {
              this.third.camera.rotateZ(-0.2)
              this.firstPersonControls.offset = new THREE.Vector3(
                Math.sin(theta - Math.PI * 0.5) * 0.4,
                0,
                Math.cos(theta - Math.PI * 0.5) * 0.4
              )
            } else {
              this.third.camera.rotateZ(0)
              this.firstPersonControls.offset = new THREE.Vector3(0, 0, 0)
            }

              // movimiento frontal y reversa
              if (this.keys.w.isDown && this.globalmove == true) {
          
              document.getElementById('muestra').innerHTML = this.player.position.x;
              document.getElementById('muestra1').innerHTML = this.player.position.z;
              const x = Math.sin(theta) * speed * 45,
              y = this.player.body.velocity.y,
                z = Math.cos(theta) * speed * 45
              this.player.body.setVelocity(x, y, z)
            } else if (this.keys.s.isDown && this.globalmove == true) {
              
              const x = -Math.sin(theta) * speed * 45,
              y = this.player.body.velocity.y,
                z = -Math.cos(theta) * speed * 45
              this.player.body.setVelocity(x, y, z)
            }

         
            if(this.move == true){
              document.getElementById('muestra').innerHTML = this.player.position.x;
              document.getElementById('muestra1').innerHTML = this.player.position.z;
             const x = Math.sin(theta) * speed * 45,
              y = this.player.body.velocity.y,
                z = Math.cos(theta) * speed * 45
              this.player.body.setVelocity(x, y, z)
              
            }

            if(this.moveb == true){
             const x = -Math.sin(theta) * speed * 45,
              y = this.player.body.velocity.y,
                z = -Math.cos(theta) * speed * 45
              this.player.body.setVelocity(x, y, z)
            }

            if(this.rotando == true){
              this.firstPersonControls.update(20, 0)
            }

            if(this.rotandoreverse == true){
              this.firstPersonControls.update(-20, 0)
            }

            

         // movimiento lateral
            if (this.keys.a.isDown && this.globalmove == true) {
              this.firstPersonControls.update(-20, 0)
              /*
              this.player.position.x += Math.sin(theta + Math.PI * 0.5) * speed
              this.player.position.z += Math.cos(theta + Math.PI * 0.5) * speed
              */
              
            } else if (this.keys.d.isDown && this.globalmove == true) {
              
              this.firstPersonControls.update(20, 0)
              /*
              this.player.position.x += Math.sin(theta - Math.PI * 0.5) * speed
              this.player.position.z += Math.cos(theta - Math.PI * 0.5) * speed
              */

            }
        }
      }

      const config = {
        type: Phaser.WEBGL,
        transparent: true,
        scale: {
          mode: Phaser.Scale.FIT,
          autoCenter: Phaser.Scale.CENTER_BOTH,
          width: window.innerWidth,
          height: window.innerHeight
        },
        scene: [MainScene],
        ...Canvas({ antialias: true })
      }
      
      window.addEventListener('load', () => {
        enable3d(() => new Phaser.Game(config)).withPhysics('prefabs/kripken')
      })
    </script>
  </body>
</html>